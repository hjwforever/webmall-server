(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"1f55":function(t,e,s){},"69f4":function(t,e,s){"use strict";s("1f55")},8654:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var n=s("970b"),a=s.n(n),i=function t(e,s,n){a()(this,t),this.username=e,this.password=s,this.email=n}},dc6c:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sc-design"},[s("div",[s("q-form",{ref:"loginForm",on:{submit:t.onSubmit,reset:t.onReset}},[s("q-tabs",{staticClass:"text-black",attrs:{"active-color":"primary","indicator-color":"primary",align:"left",breakpoint:0,"narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab",{attrs:{type:"reset",name:"mails",label:"用户密码登录"},on:{click:t.onReset}}),s("q-tab",{attrs:{type:"reset",name:"alarms",label:"手机号登录"},on:{click:t.onReset}})],1),s("div",{staticClass:"q-gutter-y-sm"},[s("q-tab-panels",{staticClass:"text-center",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab-panel",{staticClass:"q-col-gutter-y-sm",attrs:{name:"mails"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{outlined:"",clearable:"","clear-icon":"cancel",dense:"",debounce:"500",placeholder:"用户名或邮箱:test","lazy-rules":t.lazy,square:"",rules:[function(t){return t&&t.length>0||"请输入用户名"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"mdi-account"}})]},proxy:!0}]),model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{outlined:"",clearable:"","clear-icon":"cancel",type:t.isPwd?"password":"text",dense:"",debounce:"500",placeholder:"密码:test","lazy-rules":t.lazy,square:"",rules:[function(t){return t&&t.length>0||"请输入密码"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"vpn_key"}})]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)])]),s("q-tab-panel",{staticClass:"q-col-gutter-y-sm",attrs:{name:"alarms"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{outlined:"",clearable:"","clear-icon":"cancel",dense:"",debounce:"500",placeholder:"手机号","lazy-rules":t.lazy,square:"",rules:[function(t){return t&&t.length>0||"请输入用户名"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"mdi-phone"}})]},proxy:!0}]),model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{outlined:"",type:t.isPwd?"password":"text",dense:"",debounce:"500",placeholder:"验证码","lazy-rules":t.lazy,square:"",rules:[function(t){return t&&t.length>0||"请输入密码"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"mdi-mail"}})]},proxy:!0},{key:"after",fn:function(){return[s("q-btn",{staticClass:"no-border-radius",attrs:{unelevated:"",color:"secondary",label:"获取验证码"}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)])])],1),s("div",{staticClass:"q-mx-md"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col text-left"},[s("q-checkbox",{attrs:{label:"自动登录"},model:{value:t.autoLogin,callback:function(e){t.autoLogin=e},expression:"autoLogin"}})],1),s("div",{staticClass:"col text-right"},[s("q-btn",{attrs:{color:"primary",flat:"",label:"忘记密码"}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-btn",{staticClass:"full-width no-border-radius",attrs:{dense:"",unelevated:"",label:"登 录",size:"17px",color:"primary q-mt-sm",type:"submit",loading:t.loginLogin},scopedSlots:t._u([{key:"loading",fn:function(){return[s("q-spinner-ios",{staticClass:"on-left"}),t._v("\n                  登录...\n                ")]},proxy:!0}])})],1)]),s("div",{staticClass:"row q-pt-md"},[s("div",{staticClass:"col-auto text-left q-pt-sm"},[s("span",[t._v("其他登录方式")]),t._l(t.loginIcon,(function(e,n){return s("q-icon",{key:n,staticClass:"iconfont q-ml-sm",class:[e.class.iconName,e.class.color],staticStyle:{cursor:"pointer"},attrs:{size:e.size},on:{click:function(e){return t.thirdLogin(n)},mouseover:function(e){return t.mouseOver(n,e)},mouseleave:function(e){return t.mouseLeave(n,e)}}})}))],2),s("div",{staticClass:"col text-right"},[s("q-btn",{attrs:{to:"/user/register",color:"primary",flat:"",label:"注册用户"}})],1)])])],1)],1)],1),s("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.currentLogin.login,callback:function(e){t.$set(t.currentLogin,"login",e)},expression:"currentLogin.login"}},[s("q-card",{staticClass:"bg-teal text-white",staticStyle:{width:"300px"}},[s("q-card-section",[s("div",{staticClass:"text-h6"},[t._v("Persistent")])]),s("q-card-section",{staticClass:"q-pt-none"},[t._v("\n        "+t._s(t.currentLogin.obj)+"\n      ")]),s("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK"}})],1)],1)],1)],1)},a=[],i=(s("d3b7"),s("25f0"),s("8654")),o={name:"Login",data:function(){return{iconObject:{weixin:{class:{iconName:"iconweixin",color:"text-grey"},size:"22px"},zhifubao:{class:{iconName:"iconzhifubao",color:"text-grey"},size:"20px"},taobao:{class:{iconName:"icontaobao",color:"text-grey"},size:"22px"},weibo:{class:{iconName:"iconweibo",color:"text-grey"},size:"20px"},github:{class:{iconName:"iconhuaban88",color:"text-grey"},size:"23px",type:"link"}},iconActive:{weibo:"grey"},lazy:!0,tab:"mails",username:null,phone:null,password:null,isPwd:!0,autoLogin:!0,card:!1,loginLogin:!1,currentLogin:{login:!1,obj:{}}}},methods:{onSubmit:function(){var t=this;if(this.username&&this.password){var e=this.$q.notify({type:"ongoing",spinner:!0,message:"登录中..."});this.$store.dispatch("auth/login",new i["a"](this.username,this.password)).then((function(){setTimeout((function(){e({type:"positive",message:"用户"+t.username+"登录成功!",textColor:"white",spinner:null,timeout:1e3}),t.$router.push("/user")}),1e3)}),(function(s){setTimeout((function(){e({type:"negative",message:"用户"+t.username+"登录失败! "+s.toString(),textColor:"white",spinner:null,timeout:1e3})}),1e3)}))}},onReset:function(){this.username="",this.password="",this.email=""},mouseOver:function(t,e){this.activeForLoginType(t,"text-primary")},mouseLeave:function(t,e){this.activeForLoginType(t,"text-grey")},activeForLoginType:function(t,e){this.iconObject[t].class.color=e},thirdLogin:function(t,e){this.currentLogin.login=!0,this.currentLogin.obj=this.iconObject[t]}},computed:{loginIcon:function(){return this.iconObject}}},r=o,c=(s("69f4"),s("2877")),l=s("0378"),u=s("429b"),d=s("7460"),p=s("adad"),m=s("823b"),b=s("27f9"),f=s("0016"),g=s("9c40"),h=s("8f8e"),v=s("d9b2"),y=s("24e8"),x=s("f09f"),w=s("a370"),q=s("4b7e"),C=s("7f67"),k=s("eebe"),L=s.n(k),z=Object(c["a"])(r,n,a,!1,null,"0ea0dbc3",null);e["default"]=z.exports;L()(z,"components",{QForm:l["a"],QTabs:u["a"],QTab:d["a"],QTabPanels:p["a"],QTabPanel:m["a"],QInput:b["a"],QIcon:f["a"],QBtn:g["a"],QCheckbox:h["a"],QSpinnerIos:v["a"],QDialog:y["a"],QCard:x["a"],QCardSection:w["a"],QCardActions:q["a"]}),L()(z,"directives",{ClosePopup:C["a"]})}}]);