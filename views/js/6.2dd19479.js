(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"5cb7":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sc-design"},[n("div",{staticClass:"q-px-md"},[n("q-form",{ref:"form",on:{submit:e.onSubmit,reset:e.onReset}},[n("div",{staticClass:"q-gutter-y-md"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 q-gutter-y-sm"},[n("q-input",{attrs:{outlined:"",clearable:"","clear-icon":"cancel",dense:"",debounce:"500",placeholder:"*用户名","lazy-rules":e.lazy,square:"",rules:[function(e){return e&&/^.{4,10}$/.test(e)||"请输入4至10位的用户名"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"mdi-account"}})]},proxy:!0}]),model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),n("q-input",{attrs:{outlined:"",clearable:"","clear-icon":"cancel",dense:"",label:"*邮箱",maxlength:"128",type:"email","lazy-rules":e.lazy,square:"",rules:[function(e){return e&&/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/.test(e)||"请输入有效邮箱格式, 如test@test.com"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"mail"}})]},proxy:!0}]),model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("q-input",{attrs:{outlined:"",clearable:"","clear-icon":"cancel",type:e.isPwd?"password":"text",dense:"",label:"*密码",maxlength:"32","lazy-rules":e.lazy,square:"",rules:[function(e){return e&&/^[A-Za-z0-9_]{6,16}$/.test(e)||"请输入由字母及下划线组成的6至16位密码"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"vpn_key"}})]},proxy:!0},{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("q-input",{attrs:{outlined:"",clearable:"","clear-icon":"cancel",type:e.isPwd?"password":"text",dense:"",label:"*确认密码",maxlength:"32","lazy-rules":e.lazy,square:"",rules:[function(e){return e&&e.length>0||"请输入确认密码"},function(t){return e.passwordValida||"两次密码不一致"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"vpn_key"}})]},proxy:!0},{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}),n("div",{staticClass:"row"},[n("div",{staticClass:"col text-left"},[n("q-btn",{staticClass:"no-border-radius",attrs:{unelevated:"",type:"submit",loading:e.loading,color:"primary full-width",label:"注 册",size:"md"},scopedSlots:e._u([{key:"loading",fn:function(){return[n("q-spinner-hourglass",{staticClass:"on-left"}),e._v("\n                    注册...\n                  ")]},proxy:!0}])})],1),n("div",{staticClass:"col text-right"},[n("q-btn",{attrs:{to:"/user/login",color:"primary",flat:"",label:"使用已有账户登录"}})],1)])],1)])])])],1)])},a=[],i=(n("d3b7"),n("25f0"),n("8654")),r={name:"Register",data:function(){return{username:null,email:null,password:null,confirmPassword:null,isPwd:!0,autoLogin:!0,dense:!1,loading:!1,lazy:!0}},methods:{onSubmit:function(){var e=this;this.$refs.form.validate().then((function(t){if(t){var n=e.$q.notify({type:"ongoing",spinner:!0,message:"注册中..."});e.$store.dispatch("auth/register",new i["a"](e.username,e.password,e.email)).then((function(){setTimeout((function(){n({type:"positive",message:"用户"+e.username+"注册成功! ",textColor:"white",spinner:null,timeout:1e3}),e.$router.push("/user/login")}),1e3)})).catch((function(t){setTimeout((function(){n({type:"negative",message:"用户"+e.username+"注册失败!"+t.toString(),textColor:"white",spinner:null,timeout:1e3})}),1e3)}))}}))},onReset:function(){this.username="",this.password="",this.email=""}},computed:{passwordValida:function(){return this.password===this.confirmPassword}}},o=r,l=n("2877"),u=n("0378"),c=n("27f9"),d=n("0016"),p=n("9c40"),m=n("9149"),f=n("eebe"),y=n.n(f),w=Object(l["a"])(o,s,a,!1,null,null,null);t["default"]=w.exports;y()(w,"components",{QForm:u["a"],QInput:c["a"],QIcon:d["a"],QBtn:p["a"],QSpinnerHourglass:m["a"]})},8654:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n("970b"),a=n.n(s),i=function e(t,n,s){a()(this,e),this.username=t,this.password=n,this.email=s}}}]);